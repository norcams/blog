<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="norcams, culture automation measurement sharing">

        <link rel="alternate"  href="http://blog.norcams.org/feeds/all.atom.xml" type="application/atom+xml" title="norcams Full Atom Feed"/>

        <title>Dag 20-24: Grafing av instansdata // norcams // culture automation measurement sharing</title>


    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://blog.norcams.org/theme/css/pure.css">
    <link rel="stylesheet" href="http://blog.norcams.org/theme/css/pygments.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
</head>

<body>
<div class="pure-g-r" id="layout">
    <div class="sidebar sidebar-article pure-u">
        <header class="header-article">
            <hgroup>
                <a href="http://blog.norcams.org/author/kristian-skurtveit.html" title="See posts by Kristian Skurtveit">
                </a>
                <h2 class="article-info">Kristian Skurtveit</h2>
                <small class="about-author"></small>
                <h5>Published</h5>
                <p>Mon 04 May 2015</p>
                <a href="/">&larr;Home</a>
            </hgroup>
        </header>
    </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>Dag 20-24: Grafing av instansdata</h1>
                        <p class="post-meta">
                            // under                                 <a class="post-category" href="http://blog.norcams.org/tag/instanser.html">instanser</a>
                                <a class="post-category" href="http://blog.norcams.org/tag/keystone.html">keystone</a>
                                <a class="post-category" href="http://blog.norcams.org/tag/nova.html">nova</a>
                        </p>
                </header>
            </section>
            <p>Etter å ha eksperimentert med ulike metrics fra Logstash og statsd i
forrige uke har jeg laget noen enkle python scripts som spør keystone
databasen ved jevne mellomrom for instansdata. Antallet kjørende
instanser, slettede instanser, instanser som har feilet, samt type
instans blir nå grafet i Grafana.</p>
<p>Grunnen for dette er at vi skal kunne holde en enkel oversikt over&nbsp;alle
instansene og deres status. I tillegg skal vi kunne kartlegge fremtidige
ressursbehov dersom totalkapasiteten i systemet er i ferd med å bli
nådd. Dette går under kategorien proaktiv overvåking, og vi kan løse
ressursbehov ved å legge til mer ressurser&nbsp;under drift istedenfor når
systemet har nådd sin totale kapasitet.</p>
<p><a class="reference external" href="http://openstack.b.uib.no/files/2015/04/metrics-grafer.png"><img alt="metrics-grafer" src="http://openstack.b.uib.no/files/2015/04/metrics-grafer.png" /></a></p>
<p><a class="reference external" href="http://openstack.b.uib.no/files/2015/05/instans-graf.png"><img alt="instans-graf" src="http://openstack.b.uib.no/files/2015/05/instans-graf.png" /></a></p>

            <div class="hr"></div>
            <a href="#" class="go-top">Go Top</a>
<div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = "norcams"; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div><footer class="footer">
    <p>&copy; norcams &ndash;
        Built with <a href="https://github.com/PurePelicanTheme/pure">Pure Theme</a>
        for <a href="http://blog.getpelican.com/">Pelican</a>
    </p>
</footer>        </div>
    </div>
</div>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>
</body>
</html>